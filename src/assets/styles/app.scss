/*
 * IMPORTANT NOTE: Theme based on Tailwindcss but for the purpose of simplifing the DOM we use
 * tailwind classes with @apply directive in the SCSS files
*/

@import "./01-settings/tailwind";
@import "./01-settings/fonts";
@import "./01-settings/global";
@import "./01-settings/breakpoints";

@import "./02-generic/reset";
@import "./02-generic/common";
@import "./02-generic/tooltip";
@import "./02-generic/animations";
@import "./02-generic/lazyload";
@import "./02-generic/rtl";
@import "./02-generic/ltr";
@import "./02-generic/mixins";

@import "./03-elements/form";
@import "./03-elements/buttons";
@import "./03-elements/radio";
@import "./03-elements/radio-images";

@import "./04-components/header";
@import "./04-components/footer";
@import "./04-components/menus";
@import "./04-components/user-menu";
@import "./04-components/user-pages";
@import "./04-components/home-blocks";
@import "./04-components/slider";
@import "./04-components/product";
@import "./04-components/brands";
@import "./04-components/no-content-placeholder";
@import "./04-components/gifting";
@import "./04-components/loyalty";
@import "./04-components/virtooal";
@import "./04-components/landing-page";
@import "./04-components/filters";

@import "./05-utilities/chat-bots";
@import "./05-utilities/swal";
@import "./05-utilities/safari-fixes";
@import "./05-utilities/font-customization";

@import "lite-youtube-embed/src/lite-yt-embed.css";
@import "mmenu-light/dist/mmenu-light.css";
@import "./04-components/homepage";
@import "./02-layouts/main";

// Enhanced Hero Section with Categories
.hero-with-categories {
  .categories-sidebar {
    height: fit-content;
    max-height: 520px;
    overflow-y: auto;

    &::-webkit-scrollbar {
      width: 4px;
    }

    &::-webkit-scrollbar-track {
      @apply bg-gray-100 rounded;
    }

    &::-webkit-scrollbar-thumb {
      @apply bg-gray-300 rounded hover:bg-gray-400;
    }

    h3 {
      @apply sticky top-0 bg-white z-10;
    }
  }
}

// Category Grid
.category-grid {
  @apply grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-6 gap-3 md:gap-4;
}

// Products Grid
.products-grid {
  @apply grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4;
}

// Section Wrappers
.section-wrapper {
  @apply py-8 md:py-12;
}

/*
  Enhanced Block Title
*/
.s-block {
  &__title {
    @apply flex items-center justify-between mb-6 md:mb-8;

    .right-side {
      @apply flex-1;

      h2 {
        @apply text-xl md:text-2xl font-bold text-gray-900 mb-1;
      }

      p {
        @apply text-sm text-gray-600 line-clamp-1;
      }
    }

    &-nav {
      @apply hidden sm:flex ltr:flex-row-reverse rtl:space-x-reverse space-x-2.5;
    }
  }

  &__display-all {
    @apply inline-flex items-center gap-2 text-primary font-semibold hover:underline transition-all;

    i {
      @apply ltr:rotate-180;
    }
  }
}

// Today's Deals Section
.todays-deals {
  @apply relative overflow-hidden;

  &::before {
    content: "";
    @apply absolute inset-0 bg-gradient-to-r from-red-500/5 to-orange-500/5;
  }

  .container {
    @apply relative z-10;
  }
}

// Recently Viewed Section
.recently-viewed-section {
  &.has-products {
    @apply block;
  }
}

// Category Products Section
.category-products-section {
  &:nth-child(odd) {
    @apply bg-gray-50;
  }
}

// Enhanced Product Card
salla-product-card {
  .product-footer {
    .views-count,
    .sold-count {
      @apply text-xs text-gray-500 flex items-center gap-1;

      i {
        @apply text-gray-400;
      }
    }
  }
}

// Shop by Brand
.shop-by-brand {
  .brand-card {
    @apply transform transition-all hover:scale-105;

    img {
      @apply filter grayscale hover:grayscale-0 transition-all;
    }
  }
}

// Filters Enhancement
.filters-container {
  @apply bg-white rounded-lg shadow-sm p-6;

  .filter-group {
    @apply border-b border-gray-200 pb-4 mb-4;

    &:last-child {
      @apply border-b-0 mb-0;
    }

    h4 {
      @apply cursor-pointer select-none font-semibold text-gray-900 flex items-center justify-between;

      &:after {
        content: "\e92a";
        font-family: "sallaicons";
        @apply transition-transform duration-200;
      }

      &.collapsed:after {
        @apply transform -rotate-90;
      }
    }
  }

  .brand-filter-list {
    max-height: 250px;
    overflow-y: auto;
    @apply mt-3;

    &::-webkit-scrollbar {
      width: 4px;
    }

    &::-webkit-scrollbar-thumb {
      @apply bg-gray-300 rounded;
    }

    label {
      @apply flex items-center py-2 hover:text-primary cursor-pointer;

      input {
        @apply mr-2;
      }
    }
  }

  .price-filter {
    @apply flex gap-3 mt-3;

    input {
      @apply flex-1;
    }
  }

  .apply-filters {
    @apply mt-4 w-full btn btn-primary;
  }
}

// View Toggle
.view-toggle {
  @apply bg-gray-100 rounded-lg overflow-hidden inline-flex p-1;

  button {
    @apply px-3 py-1.5 text-gray-600 transition rounded;

    &.active {
      @apply bg-white shadow-sm text-primary;
    }

    i {
      @apply text-lg;
    }
  }
}

// List View for Products
.s-products-list.list-view {
  @apply grid-cols-1 gap-4;

  salla-product-card,
  .product-entry {
    @apply bg-white rounded-lg shadow-sm p-4;

    .product-content {
      @apply flex items-start gap-4;

      .product-image {
        @apply w-32 h-32 flex-shrink-0;

        img {
          @apply w-full h-full object-cover rounded-lg;
        }
      }

      .product-details {
        @apply flex-1;

        .product-title {
          @apply text-lg font-semibold mb-2 line-clamp-2;
        }

        .product-description {
          @apply text-gray-600 text-sm mb-3 line-clamp-2;
        }

        .product-footer {
          @apply flex items-center justify-between;
        }
      }
    }
  }
}

// Popup Animations
@keyframes slideInUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slideInUp {
  animation: slideInUp 0.3s ease-out forwards;
}

// Responsive Adjustments
@media (max-width: 768px) {
  .hero-with-categories {
    .categories-sidebar {
      @apply hidden;
    }
  }

  .category-grid {
    @apply gap-2;

    .category-card {
      @apply p-2;

      span {
        @apply text-xs;
      }

      .bg-gray-50 {
        @apply p-2;

        i {
          @apply text-2xl;
        }

        img {
          @apply w-12 h-12;
        }
      }
    }
  }

  .products-grid {
    @apply gap-3;
  }

  .s-block__title {
    @apply mb-4;

    .right-side {
      h2 {
        @apply text-lg;
      }
    }
  }
}
