// Enhanced Homepage Styles
.hero-with-categories {
  @apply mb-8;

  .categories-sidebar {
    @apply bg-white rounded-lg shadow-sm overflow-hidden;
    height: fit-content;
    max-height: 520px;

    h3 {
      @apply font-bold text-gray-800 p-4 pb-2 border-b bg-gray-50;
      @apply sticky top-0 z-10;
    }

    nav {
      @apply p-2;
      overflow-y: auto;
      max-height: 460px;

      &::-webkit-scrollbar {
        width: 4px;
      }

      &::-webkit-scrollbar-track {
        @apply bg-gray-100 rounded;
      }

      &::-webkit-scrollbar-thumb {
        @apply bg-gray-300 rounded hover:bg-gray-400;
      }

      a {
        @apply flex items-center justify-between px-4 py-3;
        @apply hover:bg-gray-50 rounded-md transition-all;

        &:hover {
          @apply transform translate-x-1;
        }

        .sicon-keyboard_arrow_left {
          @apply transition-transform;
        }

        &:hover .sicon-keyboard_arrow_left {
          @apply transform translate-x-1;
        }
      }
    }
  }
}

// Quick Categories Grid
.quick-categories {
  .category-card {
    @apply bg-white rounded-lg p-4 hover:shadow-md transition-all transform hover:scale-105;
    @apply border border-gray-100 hover:border-primary;

    .bg-gray-50 {
      @apply transition-colors;
    }

    // Use rgba with CSS variable instead of non-existent utility
    &:hover .bg-gray-50 {
      background-color: rgba(var(--color-primary-rgb), 0.05);
    }

    img,
    i {
      @apply transition-transform;
    }

    &:hover img,
    &:hover i {
      @apply scale-110;
    }
  }
}

// Today's Deals Section
.todays-deals {
  @apply relative overflow-hidden;
  background: linear-gradient(
    135deg,
    rgba(255, 59, 48, 0.05) 0%,
    rgba(255, 149, 0, 0.05) 100%
  );

  &::before {
    content: "";
    @apply absolute top-0 left-0 w-full h-1;
    background: linear-gradient(90deg, #ff3b30 0%, #ff9500 100%);
  }

  h2 {
    @apply relative;

    .sicon-flash-on {
      @apply animate-pulse;
    }
  }

  // Deal timer styles
  .deal-timer {
    @apply flex items-center gap-2 text-sm;

    .timer-box {
      @apply bg-white rounded px-2 py-1 font-bold text-red-600 shadow-sm;
    }
  }
}

// Recently Viewed Section
.recently-viewed-section {
  @apply transition-opacity duration-500;

  &.hidden {
    @apply opacity-0 pointer-events-none;
  }

  &.has-products {
    @apply opacity-100 pointer-events-auto;
  }

  .recently-viewed-item {
    @apply bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-lg transition-all;

    img {
      @apply transition-transform duration-300;
    }

    &:hover img {
      @apply scale-105;
    }

    h3 {
      @apply transition-colors;
    }

    .price-wrapper {
      @apply flex items-center justify-between;
    }
  }
}

// Category Products Section
.category-products-section {
  @apply py-8;

  &:nth-child(odd) {
    @apply bg-gray-50;
  }

  .s-block__title {
    @apply mb-6;

    h2 {
      @apply text-2xl font-bold text-gray-900;
    }

    p {
      @apply text-gray-600 mt-1;
    }

    .s-block__display-all {
      @apply text-primary font-semibold hover:underline;

      i {
        @apply transition-transform;
      }

      &:hover i {
        @apply transform translate-x-1;
      }
    }
  }
}

// Shop by Brand
.shop-by-brand {
  @apply bg-gray-50 py-12;

  h2 {
    @apply text-center mb-8;
  }

  .brand-card {
    @apply bg-white rounded-lg p-4 shadow-sm hover:shadow-lg;
    @apply transition-all transform hover:scale-105;
    @apply border border-transparent hover:border-primary;

    img {
      @apply filter grayscale transition-all;
      @apply opacity-60;
    }

    &:hover img {
      @apply grayscale-0 opacity-100;
    }

    p {
      @apply text-center mt-2 text-xs text-gray-600;
      @apply transition-colors;
    }

    &:hover p {
      @apply text-primary;
    }
  }
}

// Product Views Popup
#product-views-popup {
  @apply fixed bottom-4 left-4 bg-white rounded-lg shadow-xl p-4 z-50;
  @apply max-w-xs transform transition-all duration-300;

  &.hidden {
    @apply translate-y-full opacity-0;
  }

  &:not(.hidden) {
    @apply translate-y-0 opacity-100;
  }

  .sicon-eye {
    @apply animate-pulse;
  }
}

// Enhanced Product Grid
.products-grid {
  @apply grid gap-4;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));

  @media (min-width: 640px) {
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  }

  @media (min-width: 1024px) {
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  }
}

// List View
.s-products-list.list-view {
  @apply grid grid-cols-1 gap-4;

  .product-entry,
  salla-product-card {
    @apply bg-white rounded-lg shadow-sm p-4;

    .product-content {
      @apply flex gap-4;

      .product-image {
        @apply w-32 h-32 flex-shrink-0;

        img {
          @apply w-full h-full object-cover rounded-lg;
        }
      }

      .product-details {
        @apply flex-1 flex flex-col justify-between;

        .product-title {
          @apply text-lg font-semibold mb-2 line-clamp-2 hover:text-primary transition-colors;
        }

        .product-description {
          @apply text-gray-600 text-sm mb-3 line-clamp-2;
        }

        .product-footer {
          @apply flex items-center justify-between;

          .price-wrapper {
            @apply flex items-center gap-2;
          }

          .product-actions {
            @apply flex items-center gap-2;
          }
        }
      }
    }
  }
}

// Responsive Adjustments
@media (max-width: 1024px) {
  .hero-with-categories {
    .categories-sidebar {
      @apply hidden;
    }

    .enhanced-slider {
      @apply col-span-12;
    }
  }
}

@media (max-width: 640px) {
  .category-grid {
    @apply grid-cols-3 gap-2;

    .category-card {
      @apply p-2;

      span {
        @apply text-xs;
      }
    }
  }

  .quick-categories h2,
  .todays-deals h2,
  .shop-by-brand h2 {
    @apply text-xl;
  }

  .products-grid {
    @apply grid-cols-2 gap-3;
  }
}
